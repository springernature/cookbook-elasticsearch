# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# THIS FILE IS MANAGED BY CHEF, DO NOT EDIT MANUALLY, YOUR CHANGES WILL BE OVERWRITTEN!
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#
# ---------------------------------- Cluster -----------------------------------
#
<%= print_value(@config, 'cluster.name') -%>

#
# ------------------------------------ Node ------------------------------------
#
<%= print_value(@config, 'node.name') -%>

#
# ----------------------------------- Memory -----------------------------------
#
<%= print_value(@config, 'bootstrap.memory_lock') -%>

#
# ---------------------------------- Network -----------------------------------
#
<%= print_value(@config, 'network.host') -%>

#
# --------------------------------- Discovery ----------------------------------
#
<%= print_value(@config, 'discovery.zen.ping.unicast.hosts') -%>
<%= print_value(@config, 'discovery.zen.minimum_master_nodes') -%>

#
# ---------------------------------- Various -----------------------------------
#
<%= print_value(@config, 'node.max_local_storage_nodes') -%>

#
# -------------------------- Custom Chef Configuration --------------------------
#
<%
  seen_state = @config['#_seen']

  # ensure all the keys are strings before we call sort
  @config.keys.map { |k| k.to_s }.sort.each do |key|
    # skip this config value if we've already seen it
    next if key.nil? || @config[key].nil? || seen_state[key] || key == '#_seen' %>
<%= key %>: <%= @config[key] %>
<% end %>
